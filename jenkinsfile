node('new')
{
    properties([buildDiscarder(logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '', daysToKeepStr: '', numToKeepStr: '2')), pipelineTriggers([pollSCM('H/2 * * * *')])])
    
    java = tool name : "jdk 9"
    env.JAVA_HOME = "${java}"
    
    def maven = tool name : "maven"
    
    stage ('checkout code')
    {
        git branch: 'main', url: 'https://github.com/mbkDevops/mbk-app.git'
    }
    stage ('build-maven')
    {
         sh "${maven}/bin/mvn package"
    }
    stage ('deploy in to tomcat server')
    {
      //  deploy adapters: [tomcat9(credentialsId: '0244dac3-7130-464e-9287-991fd0bdea56', path: '', url: 'http://13.233.115.100:8080/')], contextPath: 'sample', war: '**/*.war'
    }
}
